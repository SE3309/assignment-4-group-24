<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles/output.css">
  <title>All Jobs</title>
  <style>
    aside {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 16rem; /* Sidebar width */
      z-index: 10;
    }

    .content {
      margin-left: 16rem; /* Sidebar width */
    }

    #add-job-form-container {
      display: none;
    }
  </style>
</head>
<body class="h-screen bg-gray-50 flex">
  <!-- Sidebar -->
  <aside class="bg-gray-900 text-white flex flex-col">
    <div class="flex items-center justify-center h-16 border-b border-gray-700">
      <img src="https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600" alt="Logo" class="h-8 w-auto">
    </div>
    <nav class="flex-1 px-2 py-4 space-y-2">
      <a href="dashboard.html" class="flex items-center px-4 py-2 text-sm font-medium rounded-lg hover:bg-gray-800">
        <svg class="w-5 h-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M11.293 3.293a1 1 0 0 1 1.414 0l6 6 2 2a1 1 0 0 1-1.414 1.414L19 12.414V19a2 2 0 0 1-2 2h-3a1 1 0 0 1-1-1v-3h-2v3a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2v-6.586l-.293.293a1 1 0 0 1-1.414-1.414l2-2 6-6Z"/>
        </svg>
        Dashboard
      </a>
      <a href="jobs.html" class="flex items-center px-4 py-2 text-sm font-medium rounded-lg bg-indigo-600">
        <svg class="w-5 h-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2ZM8 17H6v-2h2v2Zm0-4H6v-2h2v2Zm0-4H6V7h2v2Zm10 8h-8v-2h8v2Zm0-4h-8v-2h8v2Zm0-4h-8V7h8v2Z"/>
        </svg>
        All Jobs
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <div class="content flex-1 flex flex-col">
    <!-- Header -->
    <header class="flex items-center justify-between px-6 py-4 bg-white shadow">
      <input
        id="search-bar"
        type="text"
        placeholder="Search..."
        class="w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-600"
      />
      <div class="flex items-center space-x-4">
        <div id="profile-initials" class="flex items-center justify-center w-10 h-10 bg-indigo-500 text-white rounded-full">KG</div>
        <button class="px-4 py-2 bg-red-500 text-white text-sm font-medium rounded-lg hover:bg-red-600 focus:outline-none">
          Logout
        </button>
      </div>
    </header>

    <!-- Sorting Toolbar -->
    <div class="flex justify-between items-center px-6 py-2 bg-white shadow">
      <h2 class="text-xl font-semibold text-gray-800">All Jobs</h2>
      <div class="flex space-x-2">
        <button id="sort-start-date" class="px-4 py-2 text-sm border rounded-full">Sort by Start Date</button>
        <button id="sort-end-date" class="px-4 py-2 text-sm border rounded-full">Sort by End Date</button>
        <button id="sort-client" class="px-4 py-2 text-sm border rounded-full">Sort by Client</button>
        <button id="reset-filters" class="px-4 py-2 text-sm border rounded-full bg-red-100">Reset Filters</button>
      </div>
    </div>

    <!-- Add Job Button -->
    <div class="px-6 py-4">
      <button id="toggle-add-job" class="px-4 py-2 bg-indigo-600 text-black font-medium rounded-lg border border-indigo-800 hover:bg-indigo-700">
        Add New Job
      </button>
    </div>

    <!-- Add Job Form -->
    <div id="add-job-form-container" class="px-6 py-4 bg-white shadow rounded-lg">
      <h3 class="text-lg font-semibold mb-4">Add New Job</h3>
      <form id="add-job-form" class="grid grid-cols-1 gap-4">
        <input type="text" id="Client_ID" name="Client_ID" placeholder="Client ID" required class="px-4 py-2 border rounded-md" />
        <input type="number" id="Number_Of_Trucks" name="Number_Of_Trucks" placeholder="Number of Trucks" required class="px-4 py-2 border rounded-md" />
        <input type="datetime-local" id="Start_Date" name="Start_Date" required class="px-4 py-2 border rounded-md" />
        <input type="datetime-local" id="End_Date" name="End_Date" class="px-4 py-2 border rounded-md" />
        <select id="job_status" name="job_status" required class="px-4 py-2 border rounded-md">
          <option value="0">In Progress</option>
          <option value="1">Completed</option>
        </select>
        <button type="submit" class="px-4 py-2 bg-indigo-600 text-black rounded-lg hover:bg-indigo-700">Add Job</button>
      </form>
    </div>

    <!-- Pagination Controls -->
    <div class="flex justify-center items-center mt-4">
      <button id="prev-page" class="px-4 py-2 bg-gray-300 rounded-md">Previous</button>
      <span id="current-page" class="px-4">Page 1</span>
      <button id="next-page" class="px-4 py-2 bg-gray-300 rounded-md">Next</button>
    </div>

    <!-- Jobs Table -->
    <main class="p-6 bg-gray-50">
      <table class="w-full bg-white border rounded-lg">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-6 py-3">Job ID</th>
            <th class="px-6 py-3">Client</th>
            <th class="px-6 py-3"># of Trucks</th>
            <th class="px-6 py-3">Start Date</th>
            <th class="px-6 py-3">End Date</th>
            <th class="px-6 py-3">Status</th>
            <th class="px-6 py-3">Actions</th>
          </tr>
        </thead>
        <tbody id="jobs-table-body">
          <!-- Rows will be dynamically populated here -->
        </tbody>
      </table>
    </main>
  </div>

  <script>
    document.getElementById('toggle-add-job').addEventListener('click', () => {
      const formContainer = document.getElementById('add-job-form-container');
      formContainer.style.display = formContainer.style.display === 'none' ? 'block' : 'none';
    });
  </script>
  <script src="../js/jobs.js"></script>
</body>
</html>
